@startuml
title MVP-PV
scale 2000 width

package Models {
    class Match {
        games: list[Game]
        goal: int
        turn: Turn

    }
    class Game {
        board: Board
        turn: Turn

        is_endgame() -> bool
        type_endgame() -> EndGame
    }

    class Board {
        positions: list[Position]

        is_all_piece_last_square(color: Color) -> bool
        is_any_pieces_in_bar(color: Color) -> bool
        is_all_pieces_off_board(color: Color) -> bool
        is_any_piece_off_board(color: Color) -> bool
        is_any_piece_at_first_square(color: Color) -> bool
        move_piece(position: Position, position: Position, color: Color)
        reset()
    }

    class DoublingCube {
        value: int  # 2^1 .. 2^6
    }

    class Player {
        last_roll: list[Dice]
        last_moves: list[Move]
        score: int
        doubling_cube: bool = False

        roll(times: int)
        can_bet() -> bool
        bet()
        accept_bet()
        reject_bet()
        is_winner()
        earn_score(score: int)
    }

    class Dice {
        value: int  # between 1..6
        __init__()  # constructor
    }

    class Turn {
        __init__(list[Player])  # sort Player list
        current_player: Player
        players: list[Player]

        next()
    }

}

package Controllers {
    class MatchController {
        configure()
        initialize_game()
        is_goal()
        resume()
    }
    class GameController {
        play()
        is_endgame()
    }
    class RollDiceController
    class MovePieceController
    class BetController

    GameController --> RollDiceController
    GameController --> MovePieceController
    GameController --> BetController
}

package Views {
    class Console {
        show(msg: str)
        read_str(msg: str = "") -> str
        read_int(msg: str = "") -> int
        read_bool(msg: str = "") -> bool
    }
    class MatchView {
        show()
        read()  # read input
    }

    class GameView {
        show()
        read()
    }

    class BoardView {
        show(color: Color)
    }

    class DiceView {
        show()
    }

    class BetView {
        show()
        read()
    }

    class MovePieceView {
        show()
    }

    GameView --> BoardView
    GameView --> DiceView
    GameView --> BetView
    GameView --> MovePieceView
}

package Types {
    enum Color {
        RED
        BLACK
    }

    enum Point {
        1..24
    }

    enum Endgame {
        SIMPLE
        GAMMON
        BACKGAMMON
    }
}

@enduml
